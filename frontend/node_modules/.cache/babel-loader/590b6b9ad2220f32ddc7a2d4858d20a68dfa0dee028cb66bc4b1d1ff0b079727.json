{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"login-page\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"content\"\n};\nconst _hoisted_4 = {\n  class: \"main-layout\"\n};\nconst _hoisted_5 = {\n  class: \"notes-section\"\n};\nconst _hoisted_6 = {\n  class: \"notes-list\"\n};\nconst _hoisted_7 = {\n  class: \"new-note\"\n};\nconst _hoisted_8 = {\n  class: \"emoji-grid\"\n};\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"src\", \"alt\"];\nconst _hoisted_11 = {\n  class: \"emoji-label\"\n};\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Заголовок страницы \"), _createElementVNode(\"header\", _hoisted_2, [_createElementVNode(\"h1\", null, _toDisplayString(_ctx.pageTitle), 1 /* TEXT */), _cache[3] || (_cache[3] = _createElementVNode(\"p\", null, \"Пожалуйста, войдите в систему, чтобы получить доступ к вашему аккаунту.\", -1 /* HOISTED */))]), _createCommentVNode(\" Основной контент \"), _createElementVNode(\"main\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" Блок с заметками \"), _createElementVNode(\"section\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.notes, (note, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"note-card\"\n    }, _toDisplayString(note.text), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.newNote = $event),\n    placeholder: \"Добавьте новую заметку...\",\n    onKeyup: _cache[1] || (_cache[1] = _withKeys((...args) => _ctx.addNote && _ctx.addNote(...args), [\"enter\"]))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, _ctx.newNote]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.addNote && _ctx.addNote(...args)),\n    class: \"cta-button\"\n  }, \"Добавить\")])]), _createCommentVNode(\" Блок с эмодзи \"), _createElementVNode(\"div\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.emojis, (emoji, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"emoji-item\",\n      onClick: $event => _ctx.selectEmoji(emoji)\n    }, [_createElementVNode(\"img\", {\n      src: emoji.icon,\n      alt: emoji.name,\n      class: _normalizeClass(['emoji-icon', {\n        'selected': _ctx.selectedEmoji?.id === emoji.id\n      }])\n    }, null, 10 /* CLASS, PROPS */, _hoisted_10), _createElementVNode(\"span\", _hoisted_11, _toDisplayString(emoji.name), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_9);\n  }), 128 /* KEYED_FRAGMENT */))])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_toDisplayString","_ctx","pageTitle","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","notes","note","index","key","text","_hoisted_7","_cache","$event","newNote","placeholder","onKeyup","_withKeys","args","addNote","onClick","_hoisted_8","emojis","emoji","selectEmoji","src","icon","alt","name","_normalizeClass","selectedEmoji","id","_hoisted_10","_hoisted_11","_hoisted_9"],"sources":["C:\\Users\\Professional\\Desktop\\gggg\\_MentalHealthSecond\\frontend\\src\\components\\ConditionPage.vue"],"sourcesContent":["<template>\r\n    <div class=\"login-page\">\r\n      <!-- Заголовок страницы -->\r\n      <header class=\"header\">\r\n        <h1>{{ pageTitle }}</h1>\r\n        <p>Пожалуйста, войдите в систему, чтобы получить доступ к вашему аккаунту.</p>\r\n      </header>\r\n\r\n      <!-- Основной контент -->\r\n    <main class=\"content\">\r\n      <div class=\"main-layout\">\r\n        <!-- Блок с заметками -->\r\n        <section class=\"notes-section\">\r\n          <div class=\"notes-list\">\r\n            <div v-for=\"(note, index) in notes\" :key=\"index\" class=\"note-card\">\r\n              {{ note.text }}\r\n            </div>\r\n          </div>\r\n          <div class=\"new-note\">\r\n            <textarea \r\n              v-model=\"newNote\" \r\n              placeholder=\"Добавьте новую заметку...\"\r\n              @keyup.enter=\"addNote\"\r\n            ></textarea>\r\n            <button @click=\"addNote\" class=\"cta-button\">Добавить</button>\r\n          </div>\r\n        </section>\r\n\r\n        <!-- Блок с эмодзи -->\r\n        <div class=\"emoji-grid\">\r\n            <div \r\n                v-for=\"(emoji, index) in emojis\" \r\n                :key=\"index\" \r\n                class=\"emoji-item\"\r\n                @click=\"selectEmoji(emoji)\"\r\n            >\r\n                <img \r\n                :src=\"emoji.icon\" \r\n                :alt=\"emoji.name\" \r\n                :class=\"['emoji-icon', { 'selected': selectedEmoji?.id === emoji.id }]\"\r\n                />\r\n                <span class=\"emoji-label\">{{ emoji.name }}</span>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    </main>   \r\n    </div>\r\n  </template>\r\n\r\n\r\n<script>\r\nimport api from '@/api/api';\r\n\r\nexport default {\r\n  name: 'ConditionPage',\r\n  data() {\r\n    return {\r\n      selectedEmoji: null,\r\n      emojis: [\r\n        {\r\n          id: 1,\r\n          name: \"Радость\",\r\n          icon: require(\"@/assets/emojis/happy.svg\"),\r\n        },\r\n        {\r\n          id: 2,\r\n          name: \"Грусть\",\r\n          icon: require(\"@/assets/emojis/sad.svg\"),\r\n        },\r\n        {\r\n          id: 3,\r\n          name: \"Злость\",\r\n          icon: require(\"@/assets/emojis/angry.svg\"),\r\n        },\r\n        // ... другие смайлики\r\n      ],\r\n    };\r\n  async created() {\r\n    await this.fetchData();\r\n  },\r\n  methods: {\r\n    async fetchData() {\r\n      try {\r\n        const [notesResponse, moodResponse] = await Promise.all([\r\n          api.get('/notes', {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n          }),\r\n          api.get('/mood', {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n          })\r\n        ]);\r\n\r\n        this.notes = notesResponse.data;\r\n        this.selectedEmoji = moodResponse.data.emoji;\r\n      } catch (error) {\r\n        console.error('Ошибка загрузки данных:', error);\r\n        if (error.response?.status === 401) {\r\n          this.$router.push('/login');\r\n        }\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    async addNote() {\r\n      if (!this.newNote.trim()) return;\r\n\r\n      try {\r\n        const response = await api.post('/notes', \r\n          { text: this.newNote },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n          }\r\n        );\r\n\r\n        this.notes.push(response.data);\r\n        this.newNote = '';\r\n      } catch (error) {\r\n        console.error('Ошибка добавления заметки:', error);\r\n      }\r\n    },\r\n\r\n    async deleteNote(noteId) {\r\n      try {\r\n        await api.delete(`/notes/${noteId}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n        this.notes = this.notes.filter(note => note.id !== noteId);\r\n      } catch (error) {\r\n        console.error('Ошибка удаления заметки:', error);\r\n      }\r\n    },\r\n\r\n    async selectEmoji(emoji) {\r\n      try {\r\n        const newEmoji = this.selectedEmoji === emoji ? null : emoji;\r\n        await api.post('/mood', \r\n          { emoji: newEmoji },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n          }\r\n        );\r\n        this.selectedEmoji = newEmoji;\r\n      } catch (error) {\r\n        console.error('Ошибка сохранения эмоции:', error);\r\n      }\r\n    },\r\n\r\n    selectEmoji(emoji) {\r\n      this.selectedEmoji = emoji;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n.loading {\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: #666;\r\n}\r\n\r\n.delete-button {\r\n  background: none;\r\n  border: none;\r\n  color: #ff4444;\r\n  cursor: pointer;\r\n  float: right;\r\n  font-size: 1.2rem;\r\n  line-height: 1;\r\n}\r\n\r\n.delete-button:hover {\r\n  color: #cc0000;\r\n}\r\n\r\n.selected {\r\n  border-color: #2c3e50 !important;\r\n  background-color: #e8f4ff !important;\r\n}\r\n\r\n.header {\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.header h1 {\r\n  font-size: 2.5rem;\r\n  color: #2c3e50;\r\n}\r\n\r\n.header p {\r\n  font-size: 1.2rem;\r\n  color: #666;\r\n}\r\n\r\n.content {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.section {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.section h2 {\r\n  font-size: 2rem;\r\n  color: #2c3e50;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n\r\n.form-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  font-size: 1rem;\r\n  color: #444;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.form-group input {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  font-size: 1rem;\r\n}\r\n\r\n.cta-button {\r\n  background-color: #2c3e50;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 1rem;\r\n}\r\n\r\n.cta-button:hover {\r\n  background-color: #1a2a36;\r\n}\r\n\r\n\r\n.info-section {\r\n  text-align: center;\r\n}\r\n\r\n.info-section p {\r\n  font-size: 1.1rem;\r\n  color: #666;\r\n}\r\n\r\n.info-section a {\r\n  color: #2c3e50;\r\n  text-decoration: none;\r\n}\r\n\r\n.info-section a:hover {\r\n  text-decoration: underline;\r\n}\r\n</style>"],"mappings":";;EACSA,KAAK,EAAC;AAAY;;EAEbA,KAAK,EAAC;AAAQ;;EAMlBA,KAAK,EAAC;AAAS;;EACdA,KAAK,EAAC;AAAa;;EAEbA,KAAK,EAAC;AAAe;;EACvBA,KAAK,EAAC;AAAY;;EAKlBA,KAAK,EAAC;AAAU;;EAWlBA,KAAK,EAAC;AAAY;mBA7B/B;oBAAA;;EAyCsBA,KAAK,EAAC;AAAa;;uBAxCrCC,mBAAA,CA6CM,OA7CNC,UA6CM,GA5CJC,mBAAA,wBAA2B,EAC3BC,mBAAA,CAGS,UAHTC,UAGS,GAFPD,mBAAA,CAAwB,YAAAE,gBAAA,CAAjBC,IAAA,CAAAC,SAAS,kB,0BAChBJ,mBAAA,CAA8E,WAA3E,yEAAuE,qB,GAG5ED,mBAAA,sBAAyB,EAC3BC,mBAAA,CAoCO,QApCPK,UAoCO,GAnCLL,mBAAA,CAkCQ,OAlCRM,UAkCQ,GAjCNP,mBAAA,sBAAyB,EACzBC,mBAAA,CAcU,WAdVO,UAcU,GAbRP,mBAAA,CAIM,OAJNQ,UAIM,I,kBAHJX,mBAAA,CAEMY,SAAA,QAhBlBC,WAAA,CAcyCP,IAAA,CAAAQ,KAAK,EAd9C,CAcyBC,IAAI,EAAEC,KAAK;yBAAxBhB,mBAAA,CAEM;MAF+BiB,GAAG,EAAED,KAAK;MAAEjB,KAAK,EAAC;wBAClDgB,IAAI,CAACG,IAAI;oCAGhBf,mBAAA,CAOM,OAPNgB,UAOM,G,gBANJhB,mBAAA,CAIY;IAvBxB,uBAAAiB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAoBuBf,IAAA,CAAAgB,OAAO,GAAAD,MAAA;IAChBE,WAAW,EAAC,2BAA2B;IACtCC,OAAK,EAAAJ,MAAA,QAAAA,MAAA,MAtBpBK,SAAA,KAAAC,IAAA,KAsB4BpB,IAAA,CAAAqB,OAAA,IAAArB,IAAA,CAAAqB,OAAA,IAAAD,IAAA,CAAO;iEAFZpB,IAAA,CAAAgB,OAAO,E,GAIlBnB,mBAAA,CAA6D;IAApDyB,OAAK,EAAAR,MAAA,QAAAA,MAAA,UAAAM,IAAA,KAAEpB,IAAA,CAAAqB,OAAA,IAAArB,IAAA,CAAAqB,OAAA,IAAAD,IAAA,CAAO;IAAE3B,KAAK,EAAC;KAAa,UAAQ,E,KAIxDG,mBAAA,mBAAsB,EACtBC,mBAAA,CAcM,OAdN0B,UAcM,I,kBAbF7B,mBAAA,CAYMY,SAAA,QA1ClBC,WAAA,CA+ByCP,IAAA,CAAAwB,MAAM,EA/B/C,CA+BwBC,KAAK,EAAEf,KAAK;yBADxBhB,mBAAA,CAYM;MAVDiB,GAAG,EAAED,KAAK;MACXjB,KAAK,EAAC,YAAY;MACjB6B,OAAK,EAAAP,MAAA,IAAEf,IAAA,CAAA0B,WAAW,CAACD,KAAK;QAEzB5B,mBAAA,CAIE;MAHD8B,GAAG,EAAEF,KAAK,CAACG,IAAI;MACfC,GAAG,EAAEJ,KAAK,CAACK,IAAI;MACfrC,KAAK,EAvCtBsC,eAAA;QAAA,YAuCqD/B,IAAA,CAAAgC,aAAa,EAAEC,EAAE,KAAKR,KAAK,CAACQ;MAAE;oCAvCnFC,WAAA,GAyCgBrC,mBAAA,CAAiD,QAAjDsC,WAAiD,EAAApC,gBAAA,CAApB0B,KAAK,CAACK,IAAI,iB,iBAzCvDM,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}